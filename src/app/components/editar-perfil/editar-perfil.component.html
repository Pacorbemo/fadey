<section>
  <span class="foto-perfil-container">
    <img
      [alt]="datosService.user.username"
      [src]="datosService.user.foto_perfil ? (datosService.user.foto_perfil | uploads) : datosService.noFoto">

    <div class="change-button-container">
      <button (click)="activarInput()">Cambiar Foto</button>
    </div>
  
    <form id="uploadForm" (submit)="subirImagen($event)">
      <input 
        type="file" 
        id="fileInput" 
        (change)="seleccionarImagen($event)" 
        class="file-input"
      />
      <button type="submit">Subir Imagen</button>
    </form>

  </span>
  <aside>

    <div>
      <label for="nombre">Nombre: </label>
      <input 
        type="text" 
        id="nombre" 
        [(ngModel)]="datosService.user.nombre" 
        (change)="editar('nombre', datosService.user.nombre)"
      />
    </div>

    <div>
      <label for="username">Username: </label>
      <input 
        type="text" 
        id="username" 
        [(ngModel)]="username" 
        (change)="editar('username', username)"
        value="datosService.user.username"
      />
    </div>

    <div>
      <label for="localizacion">Localizacion: </label>
      <input 
        type="text" 
        id="localizacion" 
        [(ngModel)]="datosService.user.localizacion" 
        (change)="editar('localizacion', datosService.user.localizacion)"
      />
    </div>

    <div>
      <label for="email">Email: </label>
      <input 
        type="email" 
        id="email" 
        [(ngModel)]="datosService.user.email" 
        (change)="editar('email', datosService.user.email)"
      />
    </div>

    <div id="bio-container">
      <label for="bio">Bio: </label>
      <textarea 
      id="bio" 
      [(ngModel)]="datosService.user.bio" 
      (change)="editar('bio', datosService.user.bio)"
      ></textarea>
    </div>
    
  </aside>
</section>
<div *ngIf="datosService.user.email && datosService.user.email_verificado === false" class="email-warning">
  <span>Tu email no está verificado.</span>
  <button (click)="reenviarVerificacionEmail()" [disabled]="reenviandoEmail">Reenviar email de verificación</button>
  <span *ngIf="mensajeVerificacion">{{mensajeVerificacion}}</span>
</div>
<div class="enlace-cambiar-password">
  <a routerLink="/cambiar-password">Cambiar contraseña</a>
</div>
