@if(!cargando && usernameValido){
<h2>{{ semanaActual.fin | dateMesString}} {{semanaActual.fin.getFullYear()}}</h2>
<h2>Reservando cita a: {{usernameBarbero}}</h2>
<div class="botones-cambio-mes">
	<button (click)="cambiarSemana(-1)"
		[disabled]="desactivarAtras()" >-</button>
	<button (click)="cambiarSemana(1)">+</button>
</div>
<table>
  <thead>
    <tr>
		@for (dia of diasDeLaSemana; track idx;  let idx = $index){
			<th>{{ dia.getDate() }}</th>
		}
    </tr>
  </thead>
  <tbody>
	@for (hora of franjasHorarias; let idx = $index; track idx) {
	  <tr>
		@for (dia of diasDeLaSemana; let idx = $index; track idx) {
		  <td>
			<button 
			(click)="mostrarReserva(dia, hora)" 
			[disabled]="!esFranjaDisponible(dia, hora) || esFranjaReservada(dia.getDate(),hora)"
			[class.selected]="esFranjaReservada(dia.getDate(),hora) === 1"
			[class.reservada]="esFranjaReservada(dia.getDate(),hora) === 2"
			>
			  {{ hora }}
			</button>
		  </td>
		}
	  </tr>
	}
  </tbody>
</table>

	@if (mostrarDialogo) {
		<div class="overlay">
		<div class="reserva-dialogo">
			<p>Reservar el {{ diaSeleccionado.getDate() }} a las {{ diaSeleccionado.getHours() }}:{{ diaSeleccionado.getMinutes() === 0 ? '00' : diaSeleccionado.getMinutes() }}</p>
			<button (click)="confirmarReserva()">Confirmar</button>
			<button (click)="cancelarReserva()">Cancelar</button>
		</div>
		</div>
	}
}

@else if(!cargando && !usernameValido){
	<div class="overlay">
		<div class="reserva-dialogo">
			<p>El usuario "{{usernameBarbero}}" no es v√°lido</p>
			<a routerLink="/">Volver a Inicio</a>
		</div>
	</div>

}