<div class="password-field">
  @if(label){
    <label>{{ label }}</label>
  }
  <div class="input-group">
    <input [type]="mostrar ? 'text' : 'password'"
           [(ngModel)]="password"
           (ngModelChange)="onPasswordChange()"
           [attr.placeholder]="placeholder"
           [required]="required"
           class="input-password" />
    <button type="button" class="btn-ojo" (click)="mostrar = !mostrar" [attr.aria-label]="mostrar ? 'Ocultar' : 'Mostrar'">
      <img [src]="mostrar ? '/svgs/icono-ojo.svg' : '/svgs/icono-ojo-off.svg'" width="22" height="22" alt="Mostrar/Ocultar" />
    </button>
    @if(showGenerator){
        <div class="aleatorio-group">
            <span>Generar contraseña aleatoria</span>
            <button type="button" class="btn-generar" (click)="generarPassword()" aria-label="Generar contraseña">
                <img src="/svgs/icono-dado.svg" width="22" height="22" alt="Generar contraseña" />
            </button>
        </div>
    }
  </div>
  @if(mostrarRequisitosFn()){
    <ul class="password-requisitos">
      <li [class.cumplido]="password.length >= 6">
        <span class="icono-requisito">@if(password.length >= 6){✔️} @else{❌}</span>
        Mínimo 6 caracteres
      </li>
    </ul>
  }
  @if(showStrength && fortaleza.texto){
    <div class="fortaleza {{fortaleza.clase}}">
      Fortaleza: {{ fortaleza.texto }}
    </div>
  }
</div>
