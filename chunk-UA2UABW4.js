import{U as n,Z as u,a as c,b as h,kc as i,lc as l}from"./chunk-EP4M2S5W.js";var p={id:0,nombre:"",username:"",rol:"",foto_perfil:"",bio:"",email:"",email_verificado:!1,enviar_emails:!0};var v="https://corb3ra.com:5000";var f={production:!1,serverUrl:v};var d=(()=>{class s{constructor(){this._tokenUsuario="",this.rol="",this.noFoto=`${f.serverUrl}/uploads/default-avatar.jpg`}limpiarUser(){this.user=p,this._tokenUsuario=""}esBarbero(){return this.user.rol==="barbero"}esCliente(){return this.user.rol==="cliente"}get tokenUsuario(){return this._tokenUsuario}set tokenUsuario(e){this._tokenUsuario=e}actualizar(e,t){this.user&&e in this.user?(this.user[e]=t,localStorage.setItem("user",JSON.stringify(this.user))):console.error(`Campo ${e} no existe en el usuario.`)}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=n({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var y=(()=>{class s{constructor(e,t){this.http=e,this.datosService=t}requestWithToken(e,t,r={},o=!1){let m=this.datosService.tokenUsuario,k=new i().set("Authorization",`Bearer ${m}`).set("SaltarCargando",o?"1":"0"),a=h(c({},r),{headers:k});switch(e){case"get":return this.http.get(t,a);case"post":return this.http.post(t,r.body,a);case"put":return this.http.put(t,r.body,a);case"delete":return this.http.delete(t,a)}}getToken(e,t,r=!1){return this.requestWithToken("get",e,{params:t},r)}postToken(e,t={},r=!1){return this.requestWithToken("post",e,{body:t},r)}putToken(e,t={},r=!1){return this.requestWithToken("put",e,{body:t},r)}deleteToken(e,t=!1){return this.requestWithToken("delete",e,{},t)}get(e,t,r=!1){let o=new i().set("SaltarCargando",r?"1":"0");return this.http.get(e,{params:t,headers:o})}post(e,t={},r=!1){let o=new i().set("SaltarCargando",r?"1":"0");return this.http.post(e,t,{headers:o})}put(e,t={},r=!1){let o=new i().set("SaltarCargando",r?"1":"0");return this.http.put(e,t,{headers:o})}delete(e,t=!1){let r=new i().set("SaltarCargando",t?"1":"0");return this.http.delete(e,{headers:r})}static{this.\u0275fac=function(t){return new(t||s)(u(l),u(d))}}static{this.\u0275prov=n({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{f as a,p as b,d as c,y as d};
